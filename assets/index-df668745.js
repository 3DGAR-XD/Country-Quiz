(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();let a=0;const M="https://restcountries.com/v3.1/all";(async function(i){try{const n=await fetch(i);if(!n.ok){if(400<=n.status&&n.status<500)throw new Error(`No se han encontrado los datos ${n.status}`);if(500<=n.status&&n.status<600)throw new Error(`Hay un problema en el servidor ${n.status}`)}const s=await n.json(),t=document.querySelector(".home"),r=document.querySelector(".game");t&&t.classList.remove("d-none"),document.body.style.backgroundImage="url('./bg.jpg')",document.body.style.backgroundColor="#eee",document.body.style.backgroundPositionX=`${Math.round(Math.random()*100)}%`,document.body.style.backgroundPositionY=`${Math.round(Math.random()*100)}%`;const o=s[Math.floor(Math.random()*s.length)];typeof o.capital>"u"&&(o.capital="No tiene capital");const c=Math.floor(Math.random()*5);document.querySelectorAll(".capital")[c].innerHTML=o.capital,document.querySelectorAll(".capital").forEach(e=>{if(e.textContent===""){const l=e;l.innerHTML=s[Math.floor(Math.random()*s.length)].capital}}),document.querySelectorAll(".timezones")[c].innerHTML=o.timezones[0],document.querySelectorAll(".timezones").forEach(e=>{if(e.textContent===""){const l=e;l.innerHTML=s[Math.floor(Math.random()*s.length)].timezones[0]}}),document.querySelectorAll(".tld")[c].innerHTML=o.tld[0],document.querySelectorAll(".tld").forEach(e=>{if(e.textContent===""){const l=e;l.innerHTML=s[Math.floor(Math.random()*s.length)].tld[0]}}),document.querySelectorAll(".population")[c].innerHTML=`${o.population} personas`,document.querySelectorAll(".population").forEach(e=>{if(e.textContent===""){const l=e;l.innerHTML=`${s[Math.floor(Math.random()*s.length)].population} personas`}}),document.querySelectorAll(".independent")[0].innerHTML="No",document.querySelectorAll(".independent")[1].innerHTML="Sí";const d=document.querySelector("#capital button");d&&d.addEventListener("click",()=>{const e=document.querySelector("#capital select");d.disabled=!0,e.disabled=!0,e.value==o.capital?(a+=1,e.style.backgroundColor="#00d912"):e.style.backgroundColor="#e30000"},!1);const u=document.querySelector("#timezones button");u.addEventListener("click",()=>{u.disabled=!0;const e=document.querySelector("#timezones select");e.disabled=!0,e.value===o.timezones[0]?(a+=1,e.style.backgroundColor="#00d912"):e.style.backgroundColor="#e30000"},!1);const m=document.querySelector("#tld button");m.addEventListener("click",()=>{const e=document.querySelector("#tld select");m.disabled=!0,e.disabled=!0,e.value===o.tld[0]?(a+=1,e.style.backgroundColor="#00d912"):e.style.backgroundColor="#e30000"},!1);const p=document.querySelector("#population button");p.addEventListener("click",()=>{const e=document.querySelector("#population select");p.disabled=!0,e.disabled=!0,e.value===`${o.population} personas`?(a+=1,e.style.backgroundColor="#00d912"):e.style.backgroundColor="#e30000"},!1);const y=document.querySelector("#independent button");y.addEventListener("click",()=>{const e=document.querySelector("#independent select");y.disabled=!0,e.disabled=!0,e.value==="Sí"&&o.independent===!0?(a+=1,e.style.backgroundColor="#00d912"):e.style.backgroundColor="#e30000"});const f=document.getElementById("generar"),g=document.getElementById("jugar");f.addEventListener("click",()=>{f.classList.add("disabled"),g.classList.remove("disabled");const e=document.querySelector(".country");e.innerHTML+=o.translations.spa.common,document.querySelectorAll("label").forEach(L=>{const S=L;S.innerHTML+=o.translations.spa.common});const l=document.querySelector("#independent>label");l.innerHTML+=" es un país independiente";const h=document.querySelector("#timezones>label");h.innerHTML+=" (Es posible que haya más de una respuesta correcta)"},!1),g.addEventListener("click",()=>{t&&t.classList.add("d-none"),r&&r.classList.remove("d-none")},!1),document.querySelector(".end").addEventListener("click",()=>{r&&r.classList.add("d-none"),document.querySelector(".result").classList.remove("d-none");const l=document.getElementById("score");l.style.fontWeight="bold",a===1?l.innerHTML=`${a} punto`:l.innerHTML=`${a} puntos`},!1)}catch(n){document.querySelector(".home").classList.add("d-none");const t=document.querySelector(".game"),r=document.querySelector(".result"),o=document.querySelector(".status"),c=document.querySelector("img"),d=document.getElementById("errorCode"),u=document.getElementById("errorDescription");t.classList.add("d-none"),r.classList.add("d-none"),o.classList.remove("d-none"),n.message==="Failed to fetch"&&window.location.reload(),n.message.startsWith("Hay un problema en el servidor")?(c.src="./server.png",c.alt="No hay conexion en el servidor",d.innerHTML+=n.message.substring(31,34),u.innerHTML+=n.message.substring(0,31)):n.message.startsWith("No se han encontrado los datos")&&(c.src="./connection.png",c.alt="No hay conexion a internet",d.innerHTML+=n.message.substring(31,34),u.innerHTML+=n.message.substring(0,31))}})(M);
